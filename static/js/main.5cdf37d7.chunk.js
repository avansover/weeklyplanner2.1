(this.webpackJsonpweeklyplanner2=this.webpackJsonpweeklyplanner2||[]).push([[0],{41:function(t,e,a){t.exports=a(55)},46:function(t,e,a){},47:function(t,e,a){},55:function(t,e,a){"use strict";a.r(e);var r=a(0),s=a.n(r),n=a(18),o=a.n(n),i=(a(46),a(19)),l=a(2),p=a(3),c=a(5),f=a(4),h=a(12),d=a(8),u=(a(47),function(t){Object(c.a)(a,t);var e=Object(f.a)(a);function a(){var t;Object(l.a)(this,a);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).drag=function(e){e.dataTransfer.setData("workerId",t.props.workerDB3[t.props.i1].id),e.dataTransfer.setData("srcClass",e.target.className),e.dataTransfer.setData("ticketWorkerId",t.props.workerDB3[t.props.i1].id),e.dataTransfer.setData("ticketClass",e.target.className)},t.draging=function(t){},t.bringWorkerID1=function(){t.props.bringWorkerID2(t.props.workerDB3[t.props.i1].id)},t}return Object(p.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{id:"ticket".concat(this.props.i1),className:"ticketDiv",style:{borderColor:"".concat(this.props.workerDB3[this.props.i1].color)},draggable:"true",onDragStart:this.drag,onDrag:this.draging,onMouseDown:this.bringWorkerID1},this.props.workerDB3[this.props.i1].firstName," ",this.props.workerDB3[this.props.i1].lastName)}}]),a}(r.Component)),g=function(t){Object(c.a)(a,t);var e=Object(f.a)(a);function a(){var t;Object(l.a)(this,a);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).bringWorkerID3=function(e){t.props.bringWorkerID4(e)},t}return Object(p.a)(a,[{key:"render",value:function(){var t=this;return s.a.createElement("div",null,this.props.workerDB2.map((function(e,a){return s.a.createElement(u,{bringWorkerID2:t.bringWorkerID3,key:a,workerDB3:t.props.workerDB2,i1:a})})))}}]),a}(r.Component),m=function(t){Object(c.a)(a,t);var e=Object(f.a)(a);function a(){var t;Object(l.a)(this,a);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).markerData=function(){var e=0,a=0,r=document.getElementsByClassName("dropAreaDiv")[0].parentNode.offsetLeft,s=t.props.partObj.partStart,n=t.props.partObj.partLength,o=t.props.axisX-s-r;if(o>-1&&o<n-2){var i=t.props.partObj.shifts.map((function(t){return t.shiftStart}));i.push(n-2),i.push(o);for(var l=0;l<i.length-1;l++)for(var p=0;p<i.length-1-l;p++)if(i[p]>i[p+1]){var c=i[p];i[p]=i[p+1],i[p+1]=c}a=o;for(var f=0;f<i.length;f++)if(i[f]===o)var h=f;var d=i[h+1],u=t.props.partObj.shifts.map((function(t){return t.shiftLength+t.shiftStart}));u.push(0),u.push(o);for(var g=0;g<u.length-1;g++)for(var m=0;m<u.length-1-g;m++)if(u[m]>u[m+1]){var v=u[m];u[m]=u[m+1],u[m+1]=v}for(var k=0;k<u.length;k++)if(u[k]===o)var D=k;var S=u[D-1];if(o<S+120)a=S,e=240,d-S<240&&(a=S,e=d-S);else if(o>d-120){var w=d-S;w>=240?(a=d-240,e=240):w<240&&(a=S,e=d-S)}else a=o-120,e=240,a=5*Math.floor((a+1)/5)}return{mrkStr:a,mrkLnth:e}},t.markerColor=function(){return"#ffaaff"},t.markerDataColor=function(){return 0===t.markerData().mrkLnth?"#ffffff":"#000000"},t.addShift=function(){console.log("addShift")},t.stopMarking=function(){},t}return Object(p.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{id:"markerDiv",style:{position:"relative",display:"flex",justifyContent:"space-between",alignItems:"center",height:"21px",width:"".concat(this.markerData().mrkLnth,"px"),left:"".concat(this.markerData().mrkStr,"px"),backgroundColor:"".concat(this.markerColor()),pointerEvents:"none"}},s.a.createElement("div",{style:{color:"".concat(this.markerDataColor()),fontSize:"12px"}},this.markerData().mrkStr),s.a.createElement("div",{style:{color:"".concat(this.markerDataColor()),fontSize:"12px"}},this.markerData().mrkStr+this.markerData().mrkLnth))}}]),a}(r.Component),v=a(16),k=Object(r.createContext)(),D=function(t){Object(c.a)(a,t);var e=Object(f.a)(a);function a(){var t;Object(l.a)(this,a);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).state={globalMarkDay:void 0,globalMarkPost:void 0,globalMarkPart:void 0,shiftLeftFinal:void 0,shiftLengthFinal:void 0,workerId:void 0,dayInd:void 0,postInd:void 0},t.setMarkerIndCon=function(e,a,r){t.setState({globalMarkDay:e,globalMarkPost:a,globalMarkPart:r})},t}return Object(p.a)(a,[{key:"render",value:function(){return s.a.createElement(k.Provider,{value:Object(v.a)(Object(v.a)({},this.state),{},{setMarkerInd:this.setMarkerIndCon})},this.props.children)}}]),a}(r.Component),S=function(t){Object(c.a)(a,t);var e=Object(f.a)(a);function a(t){var r;return Object(l.a)(this,a),(r=e.call(this,t)).shiftColor=function(){var t=r.props.shiftData.workerId;return r.props.workerDB.filter((function(e){return e.id===t}))[0].color},r.workerName=function(){var t=r.props.shiftData.workerId,e=r.props.workerDB.filter((function(e){return e.id===t})),a=r.props.shiftData.shiftLength;if(void 0===r.state.shiftLength){if(a>=160)return s.a.createElement("div",null," ",e[0].firstName," ",e[0].lastName," ");if(a<160&&a>100)return s.a.createElement("div",null," ",e[0].firstName,". ",e[0].lastName.charAt(0)," ");if(a<=100)return s.a.createElement("div",null," ",e[0].firstName.charAt(0),". ",e[0].lastName.charAt(0)," ")}else{if(r.state.shiftLength>=160)return s.a.createElement("div",null," ",e[0].firstName," ",e[0].lastName," ");if(r.state.shiftLength<160&&r.state.shiftLength>100)return s.a.createElement("div",null," ",e[0].firstName,". ",e[0].lastName.charAt(0)," ");if(r.state.shiftLength<=100)return s.a.createElement("div",null," ",e[0].firstName.charAt(0),". ",e[0].lastName.charAt(0)," ")}},r.drag=function(t){console.log(t.target),t.dataTransfer.setData("srcDay",r.props.dayInd),t.dataTransfer.setData("srcPost",r.props.postInd),t.dataTransfer.setData("srcWorkerId",r.props.shiftData.workerId),t.dataTransfer.setData("srcId",t.target.id),t.dataTransfer.setData("srcClass",t.target.className)},r.rightClick=function(){r.props.rightClick()},r.resizeShift=function(t){t.preventDefault();var e=t.target;console.log(e.className);var a=t.target.parentNode.parentNode,s=t.target.parentNode.parentNode.id,n=t.target.parentNode.parentNode.parentNode;console.log(n),window.addEventListener("mousemove",r.resize),window.addEventListener("mouseup",r.stopResize);var o=n.offsetLeft,i=a.getBoundingClientRect().width,l=a.getBoundingClientRect().left-o-.625;console.log("dropAreaLeft "+o),console.log("ShiftOldWidth "+i),console.log("shiftOldLeft "+l),r.resize(t),r.setState({shiftId:s,shift:a,resizer:e.className,dropAreaLeft:o,ShiftOldWidth:i,shiftOldLeft:l})},r.resize=function(t){var e=r.state.shift,a=r.state.resizer,s=r.state.dropAreaLeft,n=r.state.ShiftOldWidth,o=r.state.shiftOldLeft,l=Object(i.a)(r.props.shiftSet4),p=r.props.dayInd,c=r.props.postInd;if("leftResizer"===a){for(var f=l[p].posts[c].shifts,h=[],d=0;d<f.length;d++)o>l[p].posts[c].shifts[d].shiftStart&&h.push(f[d]);if(t.pageX>s&&t.pageX-s<=o+n-10){e.style.left=5*Math.floor((t.pageX-s+1)/5)+"px",e.style.width=n+o-5*Math.floor((t.pageX-s+1)/5)+"px";var u=5*Math.floor((t.pageX-s+1)/5),g=n+o-5*Math.floor((t.pageX-s+1)/5);r.setState({shiftLength:g}),r.setState({shiftLeftFinal:u}),r.setState({shiftLengthFinal:g}),g<60?r.setState({shiftDataVIew:"none"}):g>=60&&r.setState({shiftDataVIew:"flex"});for(var m=0;m<h.length;m++){var v=h[m].shiftStart+h[m].shiftLength,k=document.getElementById("".concat(h[m].shiftId));if(u<v){if(k.style.width=u-h[m].shiftStart+"px",u-h[m].shiftStart<100&&h[m].shiftStart<u)for(var D=document.getElementById("".concat(h[m].shiftId));D.lastElementChild;)D.removeChild(D.lastElementChild)}else k.style.width=h[m].shiftLength+"px"}}else t.pageX<=s?(e.style.left="0px",e.style.width=n+o+"px",r.setState({shiftLength:n+o}),r.setState({shiftLeftFinal:0}),r.setState({shiftLengthFinal:n+o})):t.pageX-s>o+n-10&&(console.log(o+n-10),e.style.left=o+n-10+"px",e.style.width="10px",r.setState({shiftLength:10}),r.setState({shiftLeftFinal:o+n-10}),r.setState({shiftLengthFinal:10}),r.setState({shiftDataVIew:"none"}))}else if("rightResizer"===a){for(var S=l[p].posts[c].shifts,w=[],y=0;y<S.length;y++)o<l[p].posts[c].shifts[y].shiftStart&&w.push(S[y]);if(t.pageX-s<720&&t.pageX-s>=o+10){e.style.width=5*Math.floor((t.pageX-s-o+1)/5)+"px";var E=5*Math.floor((t.pageX-s-o+1)/5);r.setState({shiftLength:E}),r.setState({shiftLengthFinal:E}),E<60?r.setState({shiftDataVIew:"none"}):E>=60&&r.setState({shiftDataVIew:"flex"});for(var b=0;b<w.length;b++){var I=w[b].shiftStart,L=document.getElementById("".concat(w[b].shiftId));if(t.pageX-s>I&&t.pageX-s<w[b].shiftStart+w[b].shiftLength)if(L.style.left=o+E+"px",L.style.width=w[b].shiftStart+w[b].shiftLength-o-E+"px",w[b].shiftStart+w[b].shiftLength-o-E<100)for(var O=document.getElementById("".concat(w[b].shiftId));O.lastElementChild;)O.removeChild(O.lastElementChild);else L.style.left=o+E+"px",L.style.width=w[b].shiftStart+w[b].shiftLength-o-E+"px";else t.pageX-s>=w[b].shiftStart+w[b].shiftLength?L.style.width="0px":(L.style.left=w[b].shiftStart+"px",L.style.width=w[b].shiftLength+"px")}}else if(t.pageX-s>=720){e.style.width=720-o+"px",r.setState({shiftLength:720-o}),r.setState({shiftLengthFinal:720-o});for(var j=0;j<w.length;j++){var x=w[j].shiftStart,N=document.getElementById("".concat(w[j].shiftId));N.style.left=x+"px",N.style.width="0px"}}else t.pageX-s-10<o&&(console.log(t.pageX-s),e.style.width="10px",r.setState({shortestShift:10}),r.setState({shiftLengthFinal:10}),r.setState({shiftDataVIew:"none"}))}},r.dataDivView=function(){return void 0!==r.state.shiftDataVIew?r.state.shiftDataVIew:r.props.shiftData.shiftLength>=60?"flex":r.props.shiftData.shiftLength<60?"none":void 0},r.stopResize=function(){window.removeEventListener("mousemove",r.resize),window.removeEventListener("mouseup",r.stopResize),r.props.setResizeData(r.state.resizer,r.state.shiftOldLeft,r.state.ShiftOldWidth,r.state.shiftLeftFinal,r.state.shiftLengthFinal,r.props.shiftData.workerId,r.props.dayInd,r.props.postInd)},r.showShiftStart=function(){return void 0===r.state.shiftLeftFinal?r.props.shiftData.shiftStart:r.state.shiftLeftFinal},r.showShiftEnd=function(){return void 0===r.state.shiftLeftFinal&&void 0===r.state.shiftLengthFinal?r.props.shiftData.shiftStart+r.props.shiftData.shiftLength:void 0===r.state.shiftLeftFinal&&void 0!==r.state.shiftLengthFinal?r.props.shiftData.shiftStart+r.state.shiftLengthFinal:void 0!==r.state.shiftLeftFinal&&void 0!==r.state.shiftLengthFinal?r.state.shiftLeftFinal+r.state.shiftLengthFinal:void 0},r.state={shift:void 0,resizer:void 0,dropAreaLeft:void 0,ShiftOldWidth:void 0,shiftOldLeft:void 0,shiftLength:void 0,shiftDataVIew:void 0,shiftLeftFinal:void 0,shiftLengthFinal:void 0,shiftId:void 0},r}return Object(p.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"shiftDiv",id:"d".concat(this.props.dayInd,"p").concat(this.props.postInd,"t").concat(this.props.partInd,"s").concat(this.props.shiftData.shiftStart,"w").concat(this.props.shiftData.workerId),draggable:"true",onDragStart:this.drag,style:{position:"absolute",width:"".concat(this.props.shiftData.shiftLength,"px"),left:"".concat(this.props.shiftData.shiftStart,"px"),top:"-1px",display:"flex",justifyContent:"space-between",backgroundColor:"".concat(this.shiftColor()),height:"23px",borderRadius:"3px",zIndex:1}},s.a.createElement("div",{style:{display:"flex",pointerEvents:"none"}},s.a.createElement("div",{className:"shiftDataDiv",style:{display:"".concat(this.dataDivView()),zIndex:0,fontSize:"8px",pointerEvents:"none",backgroundColor:"#aaaaaa"}},this.showShiftStart())),s.a.createElement("div",{style:{display:"".concat(this.dataDivView()),pointerEvents:"none",position:"relative",zIndex:0,fontSize:"12px"}},this.workerName()),s.a.createElement("div",{style:{display:"flex",pointerEvents:"none"}},s.a.createElement("div",{className:"shiftDataDiv",style:{display:"".concat(this.dataDivView()),zIndex:0,fontSize:"8px",pointerEvents:"none",backgroundColor:"#aaaaaa"}},this.showShiftEnd())))}}]),a}(r.Component),w=function(t){Object(c.a)(a,t);var e=Object(f.a)(a);function a(t){var r;return Object(l.a)(this,a),(r=e.call(this,t)).allowDrop=function(t){if(t.preventDefault(),r.state.axisX!==t.pageX&&r.setState({axisX:t.pageX}),"shiftDiv"!==t.target.className){var e=r.props.dayInd,a=r.props.postInd,s=r.props.partInd;(0,r.context.setMarkerInd)(e,a,s)}},r.placeMarker=function(){var t=r.context,e=t.globalMarkDay,a=t.globalMarkPost,n=t.globalMarkPart;if(r.props.dayInd===e&&r.props.postInd===a&&r.props.partInd===n)return s.a.createElement(m,{axisX:r.state.axisX,partObj:r.props.partObj})},r.deleteMarker=function(){var t=document.getElementById("markerDiv");null!==t&&t.remove(),r.props.deleteMarker()},r.drop=function(t){t.preventDefault(),console.log(t.target);var e=t.dataTransfer.getData("srcClass");if("ticketDiv"===e&&"dropAreaDiv"===t.target.className){console.log("clone");var a=t.dataTransfer.getData("ticketWorkerId");console.log("ticketWorkerId "+a),console.log("day "+r.props.dayInd),console.log("post "+r.props.dayInd),console.log("x "+t.pageX);var s=r.props.shiftSet,n=a,o=r.props.dayInd,i=r.props.postInd,l=r.props.partInd,p=t.pageX,c=240,f=document.getElementsByClassName("dropAreaDiv")[0].parentNode.offsetLeft,h=r.props.partObj.partStart,d=r.props.partObj.partLength,u=p-f-h;if(console.log(d),console.log(u),u>-1&&u<d-2){var g=s[o].posts[i].parts[l].shifts.map((function(t,e){return t.shiftStart}));g.push(d-2),g.push(u);for(var m=0;m<g.length-1;m++)for(var v=0;v<g.length-1-m;v++)if(g[v]>g[v+1]){var k=g[v];g[v]=g[v+1],g[v+1]=k}console.log(g);for(var D=0;D<g.length;D++)if(g[D]===u)var S=D;var w=g[S+1];console.log("endLimit "+w);var y=s[o].posts[i].parts[l].shifts.map((function(t,e){return t.shiftLength+t.shiftStart}));y.push(0),y.push(u);for(var E=0;E<y.length-1;E++)for(var b=0;b<y.length-1-E;b++)if(y[b]>y[b+1]){var I=y[b];y[b]=y[b+1],y[b+1]=I}for(var L=0;L<y.length;L++)if(y[L]===u)var O=L;var j=y[O-1];if(console.log("strLimit "+j),u<j+120){var x=j;w-j<240&&(x=j,c=w-j)}else if(u>w-120){var N=w-j;N>=240?x=w-240:N<240&&(x=j,c=w-j)}else x=u-120,x=5*Math.floor((x+1)/5);s[o].posts[i].parts[l].shifts.push({workerId:n,shiftStart:x,shiftLength:c,shiftId:"d".concat(o,"p").concat(i,"t").concat(l,"s").concat(x,"w").concat(n)});for(var C=0;C<s[o].posts[i].parts[l].shifts.length;C++)for(var B=0;B<s[o].posts[i].parts[l].shifts.length-1-C;B++){var W=s[o].posts[i].parts[l].shifts[B],M=s[o].posts[i].parts[l].shifts[B+1];if(console.log(s[o].posts[i].parts[l].shifts[B].shiftStart),W.shiftStart>M.shiftStart){var z=s[o].posts[i].parts[l].shifts[B];s[o].posts[i].parts[l].shifts[B]=s[o].posts[i].parts[l].shifts[B+1],s[o].posts[i].parts[l].shifts[B+1]=z}}for(var X=0;X<2;X++)for(var F=0;F<s[o].posts[i].parts[l].shifts.length-1;F++){console.log(s[o].posts[i].parts[l].shifts);var T=s[o].posts[i].parts[l].shifts[F],V=s[o].posts[i].parts[l].shifts[F+1];if(T.shiftStart+T.shiftLength===V.shiftStart&&T.workerId===V.workerId){s[o].posts[i].parts[l].shifts.push({workerId:T.workerId,shiftStart:T.shiftStart,shiftLength:T.shiftLength+V.shiftLength,shiftId:"d".concat(o,"p").concat(i,"t").concat(l,"s").concat(T.shiftStart,"w").concat(T.workerId)});var A=s[o].posts[i].parts[l].shifts.length,R=s[o].posts[i].parts[l].shifts[A-1];s[o].posts[i].parts[l].shifts[F]=R,s[o].posts[i].parts[l].shifts.splice(F+1,1),s[o].posts[i].parts[l].shifts.pop()}}console.log(s)}}else if("ticketDiv"===e&&"shiftDiv"===t.target.className){console.log("run over");var P=t.dataTransfer.getData("ticketWorkerId");console.log("ticketWorkerId "+P);var J=r.props.dayInd,H=r.props.postInd,U=r.props.partInd,$=r.props.shiftSet,q=t.target.id;console.log("tgtId "+q);var G=q.slice(q.indexOf("w")+1,q.length);console.log("tgtWorkerId "+G);for(var K=0;K<$[J].posts[H].parts[U].shifts.length;K++)if($[J].posts[H].parts[U].shifts[K].shiftId===q){console.log("tgt found"),console.log($[J].posts[H].parts[U].shifts[K]);var Q=K}var Y=q.slice(0,q.indexOf("w")+1)+P;$[J].posts[H].parts[U].shifts[Q].workerId=P,$[J].posts[H].parts[U].shifts[Q].shiftId=Y;for(var Z=0;Z<2;Z++)for(var _=0;_<$[J].posts[H].parts[U].shifts.length-1;_++){console.log($[J].posts[H].parts[U].shifts);var tt=$[J].posts[H].parts[U].shifts[_],et=$[J].posts[H].parts[U].shifts[_+1];if(tt.shiftStart+tt.shiftLength===et.shiftStart&&tt.workerId===et.workerId){$[J].posts[H].parts[U].shifts.push({workerId:tt.workerId,shiftStart:tt.shiftStart,shiftLength:tt.shiftLength+et.shiftLength,shiftId:"d".concat(J,"p").concat(H,"t").concat(U,"s").concat(tt.shiftStart,"w").concat(tt.workerId)});var at=$[J].posts[H].parts[U].shifts.length,rt=$[J].posts[H].parts[U].shifts[at-1];$[J].posts[H].parts[U].shifts[_]=rt,$[J].posts[H].parts[U].shifts.splice(_+1,1),$[J].posts[H].parts[U].shifts.pop()}}}else"shiftDiv"===e&&"dropAreaDiv"===t.target.className&&console.log("transfer");console.log(t.target.className),r.deleteMarker()},r.state={axisX:void 0},r}return Object(p.a)(a,[{key:"render",value:function(){var t=this;return s.a.createElement("div",{className:"dropAreaDiv",style:{position:"absolute",width:"".concat(this.props.partObj.partLength,"px"),left:"".concat(this.props.partObj.partStart,"px"),display:"flex",height:"23px",borderRadius:"6px",backgroundColor:"#ffffff"},onDragOver:this.allowDrop,onDrop:this.drop,onDragLeave:this.deleteMarker},this.placeMarker(),this.props.shiftSet[this.props.dayInd].posts[this.props.postInd].parts[this.props.partInd].shifts.map((function(e,a){return s.a.createElement(S,{key:a,setResizeData:t.props.setResizeData,rightClick:t.rightClick,shiftSet:t.props.shiftSet,workerDB:t.props.workerDB,dayInd:t.props.dayInd,postInd:t.props.postInd,partInd:t.props.partInd,shiftInd:a,shiftData:e})})))}}]),a}(r.Component);w.contextType=k;var y=function(t){Object(c.a)(a,t);var e=Object(f.a)(a);function a(t){var r;return Object(l.a)(this,a),(r=e.call(this,t)).allowDrop=function(t){if(t.preventDefault(),r.state.axisX!==t.pageX&&r.setState({axisX:t.pageX}),"shiftDiv"!==t.target.className&&"shiftDataDiv"!==t.target.className){var e=r.props.dayInd,a=r.props.dayInd;(0,r.context.setMarkerInd)(e,a)}},r.rightClick=function(){console.log("rightClick")},r.deleteMarker1=function(){var t=document.getElementById("markerDiv");null!==t&&t.remove(),r.props.deleteMarker2()},r.addShiftToDB1=function(t,e,a,s){r.props.addShiftToDB2(t,e,a,s)},r.state={axisX:void 0,shiftStartForDrop:void 0,shiftLengthForDrop:void 0,tempA:void 0},r}return Object(p.a)(a,[{key:"render",value:function(){var t=this;return s.a.createElement("div",null,s.a.createElement("div",{className:"postBodyDiv"},s.a.createElement("div",null,this.props.shiftSet[this.props.dayInd].posts[this.props.postInd].name),s.a.createElement("div",{className:"partsBodyDiv",style:{display:"flex",position:"relative",left:"10px"},id:"dropDay".concat(this.props.dayInd,"Post").concat(this.props.dayInd)},this.props.shiftSet[this.props.dayInd].posts[this.props.postInd].parts.map((function(e,a){return s.a.createElement(D,{key:a},s.a.createElement(w,{key:a,deleteMarker:t.props.deleteMarker,shiftSet:t.props.shiftSet,workerDB:t.props.workerDB,dayInd:t.props.dayInd,postInd:t.props.postInd,partInd:a,partObj:e}))})))))}}]),a}(r.Component),E=function(t){Object(c.a)(a,t);var e=Object(f.a)(a);function a(){return Object(l.a)(this,a),e.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var t=this;return s.a.createElement("div",null,s.a.createElement("div",{className:"dayBodyDiv",style:{backgroundColor:"#dddddd"}},s.a.createElement("div",{className:"dayNameDiv"},this.props.shiftSet[this.props.dayInd].name),s.a.createElement("div",null,this.props.shiftSet[this.props.dayInd].posts.map((function(e,a){return s.a.createElement(y,{deleteMarker:t.props.deleteMarker,setResizeData:t.props.setResizeData,key:a,shiftSet:t.props.shiftSet,workerDB:t.props.workerDB,dayInd:t.props.dayInd,postInd:a,markerWorkerID3:t.props.markerWorkerID2})})))))}}]),a}(r.Component),b=function(t){Object(c.a)(a,t);var e=Object(f.a)(a);function a(){var t;Object(l.a)(this,a);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).bringWorkerID5=function(e){t.props.bringWorkerID6(e)},t.drop=function(e){var a,r=e.dataTransfer.getData("srcClass");"shiftDiv"===r&&"shiftDiv"!==e.target.className&&"dropAreaDiv"!==e.target.className&&function(){var s=e.dataTransfer.getData("srcDay"),n=e.dataTransfer.getData("srcPost"),o=e.dataTransfer.getData("srcId");console.log(r),console.log(e.target.className);var i=parseInt(o.slice(o.indexOf("s")+1,o.indexOf("w")));console.log(i);for(var l=t.props.shiftSet,p=l[s].posts[n].shifts,c=0;c<p.length;c++)p.filter((function(t){return t.shiftStart===i}))[0].shiftStart===p[c].shiftStart&&(console.log(p[c]),a=c);p.splice(a,1),console.log(l),t.props.deleteShift(l)}()},t.allowDrop=function(t){t.preventDefault()},t}return Object(p.a)(a,[{key:"render",value:function(){var t=this;return s.a.createElement("div",{onDrop:this.drop,onDragOver:this.allowDrop},s.a.createElement("div",{id:"plnWrkBox"},s.a.createElement("div",null,s.a.createElement(D,null,s.a.createElement(g,{bringWorkerID4:this.bringWorkerID5,workerDB2:this.props.workerDB}))),s.a.createElement("div",{id:"plannerDiv"},this.props.shiftSet.map((function(e,a){return s.a.createElement(E,{deleteMarker:t.props.deleteMarker,setResizeData:t.props.setResizeData,key:a,shiftSet:t.props.shiftSet,workerDB:t.props.workerDB,dayInd:a,markerWorkerID2:t.props.markerWorkerID1})})))))}}]),a}(r.Component),I=a(59),L=function(t){Object(c.a)(a,t);var e=Object(f.a)(a);function a(t){var r;return Object(l.a)(this,a),(r=e.call(this,t)).state={firstName:"",lastName:"",identification:"",phone:"",secondPhone:"",address:"",email:"",class:"",lastTraining:""},r}return Object(p.a)(a,[{key:"render",value:function(){var t=this;return s.a.createElement("div",null,"AddWorker",s.a.createElement("div",null,s.a.createElement("input",{placeholder:"First name",onChange:function(e){return t.setState({firstName:e.target.value})}})),s.a.createElement("div",null,s.a.createElement("input",{placeholder:"Last name",onChange:function(e){return t.setState({lastName:e.target.value})}})),s.a.createElement("div",null,s.a.createElement("input",{placeholder:"ID",onChange:function(e){return t.setState({identification:e.target.value})}})),s.a.createElement("div",null,s.a.createElement("input",{placeholder:"Phone",onChange:function(e){return t.setState({phone:e.target.value})}})),s.a.createElement("div",null,s.a.createElement("input",{placeholder:"Second phone",onChange:function(e){return t.setState({secondPhone:e.target.value})}})),s.a.createElement("div",null,s.a.createElement("input",{placeholder:"Address",onChange:function(e){return t.setState({address:e.target.value})}})),s.a.createElement("div",null,s.a.createElement("input",{placeholder:"Email",onChange:function(e){return t.setState({email:e.target.value})}})),s.a.createElement("button",{onClick:function(){return t.props.addWorker(t.state.firstName,t.state.lastName,t.state.identification,t.state.phone,t.state.secondPhone,t.state.address,t.state.email)}},"add worker"))}}]),a}(r.Component);function O(){return s.a.createElement("div",null,"PersonalStat")}var j=function(t){Object(c.a)(a,t);var e=Object(f.a)(a);function a(t){var r;return Object(l.a)(this,a),(r=e.call(this,t)).addWorkerView=function(){return r.state.addWorkerWindow?s.a.createElement(L,{addWorker:r.props.addWorker}):s.a.createElement(O,null)},r.buttonText=function(){return r.state.addWorkerWindow?"Personal Stat":"Add worker"},r.state={addWorkerWindow:!1},r}return Object(p.a)(a,[{key:"render",value:function(){var t=this;return s.a.createElement("div",{style:{display:"flex",position:"relative"}},s.a.createElement("div",null,s.a.createElement(I.a,null,s.a.createElement(I.a.Toggle,{variant:"success",id:"dropdown-basic"},"Dropdown Button"),s.a.createElement(I.a.Menu,null,this.props.workerDB.map((function(t,e){return s.a.createElement(I.a.Item,{href:"#/worker".concat(t.id),key:e},t.id)})))),s.a.createElement("button",{onClick:function(){return t.setState({addWorkerWindow:!t.state.addWorkerWindow})}},this.buttonText())),s.a.createElement("div",null,this.addWorkerView()))}}]),a}(r.Component),x=function(t){Object(c.a)(a,t);var e=Object(f.a)(a);function a(){return Object(l.a)(this,a),e.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return s.a.createElement("div",null,"History")}}]),a}(r.Component),N=function(t){Object(c.a)(a,t);var e=Object(f.a)(a);function a(){return Object(l.a)(this,a),e.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return s.a.createElement("div",null,"SetPlan")}}]),a}(r.Component),C=function(t){Object(c.a)(a,t);var e=Object(f.a)(a);function a(){return Object(l.a)(this,a),e.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return s.a.createElement("div",null,"HomePage")}}]),a}(r.Component),B=function(t){Object(c.a)(a,t);var e=Object(f.a)(a);function a(){return Object(l.a)(this,a),e.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var t=this;return s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("input",{placeholder:"user name",disabled:!0})),s.a.createElement("div",null,s.a.createElement("input",{placeholder:"password",disabled:!0})),s.a.createElement("div",null,s.a.createElement(h.b,{to:"/planner"},s.a.createElement("button",{onClick:function(){return t.props.login()}},"enter"))))}}]),a}(r.Component),W=function(t){Object(c.a)(a,t);var e=Object(f.a)(a);function a(){return Object(l.a)(this,a),e.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return s.a.createElement("div",null,"SignUp")}}]),a}(r.Component),M=function(t){Object(c.a)(a,t);var e=Object(f.a)(a);function a(){return Object(l.a)(this,a),e.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{style:{display:"flex",position:"relative"}},s.a.createElement("div",null,s.a.createElement(I.a,null,s.a.createElement(I.a.Toggle,{variant:"success",id:"dropdown-basic"},"Dropdown Button"),s.a.createElement(I.a.Menu,null,this.props.workerDB.map((function(t,e){return s.a.createElement(I.a.Item,{href:"#/worker".concat(t.id),key:e},t.id)}))))),s.a.createElement("div",null,"Worker id is ",this.props.workerID))}}]),a}(r.Component),z=function(t){Object(c.a)(a,t);var e=Object(f.a)(a);function a(t){var r;return Object(l.a)(this,a),(r=e.call(this,t)).deleteMarker=function(){r.setState({entanglement:void 0})},r.bringWorkerID7=function(t){},r.higherBarView=function(){return"in"===r.state.higherBarView?s.a.createElement("div",{style:{display:"flex",position:"relative"}},s.a.createElement("div",null,s.a.createElement(h.b,{to:"/login"},s.a.createElement("button",null,"log in"))),s.a.createElement("div",null,s.a.createElement(h.b,{to:"/signup"},s.a.createElement("button",null,"signup")))):"out"===r.state.higherBarView?s.a.createElement("div",{style:{display:"flex",position:"relative"}},s.a.createElement("div",{style:{marginRight:"10px"}},"hello user"),s.a.createElement("div",null,s.a.createElement(h.b,{to:"/"},s.a.createElement("button",{onClick:function(){return r.setState({higherBarView:"in"})}},"logout")))):void 0},r.lowerBarView=function(){return"in"===r.state.higherBarView?s.a.createElement("div",{style:{display:"flex",position:"relative"}}):"out"===r.state.higherBarView?s.a.createElement("div",{style:{display:"flex",position:"relative"}},s.a.createElement("div",null,s.a.createElement(h.b,{to:"/planner",draggable:!1},s.a.createElement("button",null,"Planner"))),s.a.createElement("div",null,s.a.createElement(h.b,{to:"/personal",draggable:!1},s.a.createElement("button",null,"Personal"))),s.a.createElement("div",null,s.a.createElement(h.b,{to:"/setplanner",draggable:!1},s.a.createElement("button",null,"Set Planner"))),s.a.createElement("div",null,s.a.createElement(h.b,{to:"/history",draggable:!1},s.a.createElement("button",null,"History")))):void 0},r.login=function(){r.setState({higherBarView:"out"})},r.deleteShift=function(t){r.setState({shiftSet:t})},r.setResizeData=function(t,e,a,s,n,o,l,p){console.log(t);var c=Object(i.a)(r.state.shiftSet);if("leftResizer"===t&&void 0!==s){console.log(t);for(var f=0;f<c[l].posts[p].shifts.length;f++)if(c[l].posts[p].shifts[f].shiftStart===e)c[l].posts[p].shifts[f].shiftStart=s,c[l].posts[p].shifts[f].shiftLength=n,c[l].posts[p].shifts[f].shiftId="d".concat(l,"p").concat(p,"s").concat(s,"w").concat(o);else if(c[l].posts[p].shifts[f].shiftStart<e){var h=c[l].posts[p].shifts[f].shiftStart;if(s<h+c[l].posts[p].shifts[f].shiftLength){var d=s-h;d>0?c[l].posts[p].shifts[f].shiftLength=d:d<=0&&(console.log(f),console.log(d),c[l].posts[p].shifts.splice(f,1),f--)}}}else if("rightResizer"===t&&void 0!==n)for(var u=0;u<c[l].posts[p].shifts.length;u++)if(c[l].posts[p].shifts[u].shiftStart===e)c[l].posts[p].shifts[u].shiftLength=n,c[l].posts[p].shifts[u].shiftId="d".concat(l,"p").concat(p,"s").concat(e,"w").concat(o);else if(c[l].posts[p].shifts[u].shiftStart>e){var g=c[l].posts[p].shifts[u].shiftStart,m=c[l].posts[p].shifts[u].shiftLength;if(e+n>g){console.log(g),console.log(m);var v=g+m-e-n,k=e+n;if(v>0){var D=c[l].posts[p].shifts[u].workerId;c[l].posts[p].shifts[u].shiftStart=k,c[l].posts[p].shifts[u].shiftLength=v,c[l].posts[p].shifts[u].shiftId="d".concat(l,"p").concat(p,"s").concat(k,"w").concat(D)}else v<=0&&(c[l].posts[p].shifts.splice(u,1),u--)}}console.log(c[l].posts[p].shifts);for(var S=0;S<c[l].posts[p].shifts.length-1;S++){var w=c[l].posts[p].shifts[S],y=c[l].posts[p].shifts[S+1];if(w.shiftStart+w.shiftLength===y.shiftStart&&w.workerId===y.workerId){c[l].posts[p].shifts.push({workerId:w.workerId,shiftStart:w.shiftStart,shiftLength:w.shiftLength+y.shiftLength,shiftId:"d".concat(l,"p").concat(p,"s").concat(w.shiftStart,"w").concat(w.workerId)});var E=c[l].posts[p].shifts.length,b=c[l].posts[p].shifts[E-1];c[l].posts[p].shifts[S]=b,c[l].posts[p].shifts.splice(S+1,1),c[l].posts[p].shifts.pop()}}r.setState({shiftSet:c})},r.setData=function(){var t=r.state.workerDB;localStorage.setItem("workerDB",JSON.stringify(t))},r.getData=function(){var t=localStorage.getItem("workerDB");t=JSON.parse(t),console.log(t)},r.addWorker=function(t,e,a,s,n,o,l){console.log(t);var p={id:Date.now().toString(),firstName:t,lastName:e,color:"#a55a5a"};console.log(p),r.setState({workerDB:[].concat(Object(i.a)(r.state.workerDB),[p])})},r.state={shiftSet:[{name:"Su",posts:[{name:"post1",parts:[{partStart:0,partLength:722,shifts:[]}]},{name:"post2",parts:[{partStart:0,partLength:242,shifts:[]},{partStart:480,partLength:242,shifts:[]}]}]},{name:"Mo",posts:[{name:"post1",parts:[{partStart:0,partLength:482,shifts:[]}]},{name:"post2",parts:[{partStart:240,partLength:482,shifts:[]}]}]},{name:"Tu",posts:[{name:"post3",parts:[{partStart:0,partLength:722,shifts:[]}]},{name:"post4",parts:[{partStart:0,partLength:722,shifts:[]}]}]},{name:"We",posts:[{name:"post3",parts:[{partStart:0,partLength:722,shifts:[]}]},{name:"post5",parts:[{partStart:0,partLength:242,shifts:[]},{partStart:480,partLength:242,shifts:[]}]},{name:"post6",parts:[{partStart:0,partLength:722,shifts:[]}]}]},{name:"Th",posts:[{name:"post1",parts:[{partStart:0,partLength:722,shifts:[{workerId:"15",shiftStart:300,shiftLength:200,shiftId:"d4p0t0s300w15"}]}]},{name:"post4",parts:[{partStart:0,partLength:722,shifts:[]}]}]},{name:"Fr",posts:[{name:"post2",parts:[{partStart:0,partLength:722,shifts:[]}]},{name:"post4",parts:[{partStart:0,partLength:722,shifts:[]}]}]},{name:"Sa",posts:[{name:"post3",parts:[{partStart:0,partLength:722,shifts:[]}]},{name:"post5",parts:[{partStart:0,partLength:722,shifts:[]}]}]}],workerDB:[{id:"15",firstName:"first",lastName:"last",color:"#ff0000"},{id:"1",firstName:"drag",lastName:"last",color:"#00aa00"},{id:"2",firstName:"draggable 3",lastName:"last",color:"#6666ff"},{id:"3",firstName:"draggable 4",lastName:"last",color:"#aaaa00"},{id:"4",firstName:"draggable 5",lastName:"last",color:"#ff00ff"},{id:"124",firstName:"draggable 6",lastName:"last",color:"#00ffff"}],markerWorkerID:void 0,higherBarView:"in"},r}return Object(p.a)(a,[{key:"render",value:function(){var t=this;return s.a.createElement("div",null,s.a.createElement("button",{onClick:function(){return t.setData()}},"set Data"),s.a.createElement("button",{onClick:function(){return t.getData()}},"get Data"),s.a.createElement(h.a,null,s.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end",position:"relative"}},s.a.createElement("div",{style:{alignSelf:"flex-end"}},this.higherBarView())),s.a.createElement("div",{style:{display:"flex",justifyContent:"center",position:"relative"}},s.a.createElement("div",{style:{alignSelf:"center"}},this.lowerBarView())),s.a.createElement(d.c,null,s.a.createElement(d.a,{exact:!0,path:"/planner",component:function(){return s.a.createElement(b,{deleteMarker:t.deleteMarker,deleteShift:t.deleteShift,setResizeData:t.setResizeData,bringWorkerID6:t.bringWorkerID7,shiftSet:t.state.shiftSet,workerDB:t.state.workerDB,markerWorkerID1:t.state.markerWorkerID})}}),s.a.createElement(d.a,{exact:!0,path:"/personal",component:function(){return s.a.createElement(j,{addWorker:t.addWorker,workerDB:t.state.workerDB})}}),this.state.workerDB.map((function(e,a){return s.a.createElement(d.a,{exact:!0,path:"/worker".concat(e.id),key:a,component:function(){return s.a.createElement(M,{workerDB:t.state.workerDB,workerID:e.id,key:a})}})})),s.a.createElement(d.a,{exact:!0,path:"/history",component:function(){return s.a.createElement(x,null)}}),s.a.createElement(d.a,{exact:!0,path:"/setplanner",component:function(){return s.a.createElement(N,null)}}),s.a.createElement(d.a,{exact:!0,path:"/",component:function(){return s.a.createElement(C,null)}}),s.a.createElement(d.a,{exact:!0,path:"/login",component:function(){return s.a.createElement(B,{login:t.login})}}),s.a.createElement(d.a,{exact:!0,path:"/signup",component:function(){return s.a.createElement(W,null)}}))))}}]),a}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(54);var X=a(36),F=document.getElementById("root");o.a.render(s.a.createElement(z,null),F),Object(X.a)(F),o.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[41,1,2]]]);
//# sourceMappingURL=main.5cdf37d7.chunk.js.map